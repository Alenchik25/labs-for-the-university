## Введение

Данная программа на языке C++ предназначена для численного вычисления интегралов функции  f(x) = ((x * 0.5) + 1) * sin(x * 0.5) с использованием трех различных методов: метода прямоугольников, метода трапеций и метода Симпсона. Пользователь может выбрать метод, задать пределы интегрирования и количество разбиений.

## Структура программы

### Подключение библиотек

```cpp
#include <cmath>
#include <iostream>
```

- `cmath` используется для математических операций, таких как `sin`.
- `iostream` для ввода и вывода данных.

### Объявление функции

```cpp
double func(double x) { return ((x * 0.5) + 1) * sin(x * 0.5); }
```

- Функция `func` принимает значение `x` и возвращает значение функции \( f(x) \).

### Метод прямоугольников

```cpp
void rectangleMethod(double a, double b, int n) {
  double s = 0.0, h;
  h = (b - a) / n;
  for (int i = 0; i < n; i++) {
    s += func(a + i * h) * h;
  }
  cout << "Integral = " << s << endl;
  cout << "================\n";
}
```

- Вычисляется шаг `h` как отношение разности пределов интегрирования к количеству разбиений.
- В цикле суммируются площади прямоугольников, основанием которых является `h`, а высотой — значение функции в левой точке каждого отрезка.

### Метод трапеций

```cpp
void trapezoidMethod(double a, double b, int n) {
  double sum, h;

  h = (b - a) / n;

  sum = (func(a) + func(b)) * 0.5;

  for (int i = 1; i < n; i++) {
    sum += func(a + i * h);
  }

  sum *= h;
  cout << "Integral =: " << sum << endl;
  cout << "================\n";
}
```

- Вычисляется шаг `h`.
- Суммируются значения функции в концах отрезков, умноженные на `h`.
- Крайние значения функции умножаются на 0.5, так как они являются основаниями трапеций.

### Метод Симпсона

```cpp
void simpsonMethod(double a, double b, int n) {
  double h = (b - a) / n;
  double sum = func(a) + func(b);

  for (int i = 1; i < n; i += 2) {
    sum += 4 * func(a + i * h);
  }

  for (int i = 2; i < n - 1; i += 2) {
    sum += 2 * func(a + i * h);
  }

  double result = (h / 3) * sum;
  cout << "Integral = " << result << endl;
  cout << "================\n";
}
```

- Вычисляется шаг `h`.
- Суммируются значения функции в точках с четными и нечетными индексами с разными коэффициентами (4 и 2 соответственно).
- Итоговая сумма умножается на h/3.

### Основная функция

```cpp
int main() {
  double a, b;
  int n, selector;

  cout << "Enter lower limit of integration: ";
  cin >> a;

  cout << "Enter upper limit of integration: ";
  cin >> b;

  cout << "Enter number of splits: ";
  cin >> n;

  cout << "================\n";
  cout << "Choose method:\n";
  cout << "1. Rectangle method\n";
  cout << "2. Trapezoid method\n";
  cout << "3. Simpson's method\n";

  cin >> selector;

  switch (selector) {
    case 1:
      cout << "Now using Rectangle Method" << endl;
      rectangleMethod(a, b, n);
      main();
      break;

    case 2:
      cout << "Now using Trapezoid Method" << endl;
      trapezoidMethod(a, b, n);
      main();
      break;

    case 3:
      cout << "Now using Simpson Method" << endl;
      simpsonMethod(a, b, n);
      main();
      break;

    default:
      cout << "Input error\n";
      break;
  }

  return 0;
}
```

- Пользователь вводит нижний и верхний пределы интегрирования (`a` и `b`), а также количество разбиений (`n`).
- Программа предлагает выбрать метод численного интегрирования: метод прямоугольников, метод трапеций или метод Симпсона.
- В зависимости от выбора пользователя вызывается соответствующая функция для вычисления интеграла.
- После выполнения выбранного метода программа вызывает `main` снова, что позволяет выполнить еще одно вычисление без перезапуска программы.

## Заключение

Программа предоставляет удобный интерфейс для численного вычисления интегралов с использованием различных методов. Пользователь может легко сравнить результаты, полученные разными методами, и выбрать наиболее подходящий для конкретной задачи.

### Пример использования

1. Пользователь вводит нижний предел интегрирования (например, 0).
2. Пользователь вводит верхний предел интегрирования (например, π).
3. Пользователь вводит количество разбиений (например, 100).
4. Пользователь выбирает метод (например, 1 для метода прямоугольников).
5. Программа вычисляет и выводит значение интеграла, после чего предлагает выполнить еще одно вычисление.

### Важные замечания

- Программа предполагает, что функция `func` определена и корректно вычисляется на всем интервале интегрирования.
- Количество разбиений должно быть положительным целым числом.
- Выбор метода должен соответствовать одному из предложенных вариантов (1, 2 или 3).
